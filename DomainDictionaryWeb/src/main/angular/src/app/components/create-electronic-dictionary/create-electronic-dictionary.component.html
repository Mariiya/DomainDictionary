<h1>Create New Electronic Dictionary</h1>
<div class="card">
  <mat-card>
    <mat-horizontal-stepper labelPosition="bottom" #stepper  [linear]="true">
      <mat-step label="File"
                errorMessage="File is required."
                state="attach_file"
                [editable]="!isEditable"
      [stepControl]="classReference.formGroup">
        <form [formGroup]="classReference.formGroup">
          <app-file-upload formControlName='file' (electronicDictionary)="onFileChanged($event)"
                           ngDefaultControl></app-file-upload>
        </form>
        <div>
          <button mat-button style="float: right;" (click)="onFileFilled()">Next</button>
        </div>
      </mat-step>
      <mat-step [stepControl]="dictionaryInfoReference.formGroup" label="Parameters" state="settings">
        <app-dictionary-parameters (dictionaryParam)="onDictionaryParamsChanged($event)"></app-dictionary-parameters>
        <div style="float: right">
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="onDictionaryInfoFilled()">Next</button>
        </div>
      </mat-step>
      <mat-step label="Analyze" state="settings" [stepControl]="dictionaryParametersReference.formGroup">
        <app-fill-params (ruleEvent)="onRuleChanged($event)"></app-fill-params>
        <div style="float: right">
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="onDictionaryParamsFilled()">Next</button>
        </div>
      </mat-step>
      <mat-step label="Test">
        <app-test-dictionary
          (createBtn)="create()"
          (testBtn)="testDictionary($event)"></app-test-dictionary>
      </mat-step>

      <!-- Icon overrides. -->
      <ng-template matStepperIcon="phone">
        <mat-icon>call_end</mat-icon>
      </ng-template>
      <ng-template matStepperIcon="chat">
        <mat-icon>forum</mat-icon>
      </ng-template>
    </mat-horizontal-stepper>
  </mat-card>
  <button mat-raised-button color="primary" (click)="returnHome()" class="close-btn">Cancel</button>
</div>

